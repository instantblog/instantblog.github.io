<div class="blog-container">
  <div id="top"></div>

  <!--floating menu-->
  <div class="ib-float-fab">
    <md-fab-speed-dial md-open="blog.isFabOpen" md-direction="left" ng-class="">
      <md-fab-trigger>
        <md-button aria-label="menu" class="md-fab md-mini">
          <i class="glyphicon glyphicon-menu-hamburger"></i>
        </md-button>
      </md-fab-trigger>
      <md-fab-actions>
        <md-button aria-label="timeline" class="md-fab md-raised md-mini" ng-class="{'active':blog.timelineView}"
                   ng-click="blog.timelineView=true">
          <i class="glyphicon glyphicon-calendar"></i>
        </md-button>
        <md-button aria-label="list" class="md-fab md-raised md-mini" ng-class="{'active':!blog.timelineView}"
                   ng-click="blog.timelineView=false">
          <i class="glyphicon glyphicon-th-list"></i>
        </md-button>
        <md-button aria-label="top" class="md-fab md-raised md-mini" ng-click="blog.scrollTo('top')">
          <i class="glyphicon glyphicon-arrow-up"></i>
        </md-button>
      </md-fab-actions>
    </md-fab-speed-dial>
  </div>
  <!---->

  <!-- loading icon-->
  <div class="loading-indicator text-center" ng-if="rootscope.isPageLoading">
    <img class="full-width" src="assets/images/loader_gears.svg" alt=""/>
  </div>
  <!---->

  <div layout="row" layout-sm="column" class="hide-sm">
    <div class="ib-logo-wrapper" flex="30" flex-sm="1">
      <a href="/about">
        <div class="ib-logo">InstantBlog</div>
      </a>
    </div>

    <div class="text-right ib-search-wrapper" flex="70" flex-sm="99" ng-cloak>
      <div class="search-box">
        <form ng-submit="$event.preventDefault()">
          <md-autocomplete
            md-selected-item="blog.user"
            md-search-text-change="blog.searchUser(blog.username)"
            md-search-text="blog.username"
            md-items="user in blog.searchUser(blog.username)"
            md-item-text="user.username"
            md-min-length="1"
            placeholder="Search for an Instagram user"
            md-menu-class="autocomplete-custom-template">
            <md-item-template>
              <div ng-click="blog.changeUser(user.username)" ng-cloak>
                <img ng-src="{{user.profile_picture}}" alt="{{user.username}}"
                     class="img-circle searched-user-thumb-sm"/>
                <span> {{user.username}} </span>
              </div>
            </md-item-template>
          </md-autocomplete>
        </form>
      </div>
    </div>
  </div>

  <div class="ib-logo-wrapper sm hide-gt-sm">
      <div class="ib-logo">InstantBlog</div>
  </div>

  <md-content>
    <div class="blog-header text-center">
      <img class="full-width" ng-src="{{blog.currentUser.profile_picture}}" errsrc="assets/images/tree.jpg" alt=""/>
    </div>


    <p class="lead user-profile">
      <img class="img-circle" ng-src="{{blog.currentUser.profile_picture}}" errsrc="assets/images/user_profile.png"
           alt=""><br>
    </p>

    <!------------------->

    <div class="text-center user-info">
      <p class="text-5x">
        <a href="http://www.instagram.com/{{blog.currentUser.username}}">{{blog.currentUser.username}}</a>
      </p>

      <p class="text-4x">{{blog.currentUser.full_name}} </p>

      <p class="text-2x text-grey" layout-padding ng-if="blog.currentUser.counts">
        <strong>{{blog.currentUser.counts.media}}</strong> Posts &nbsp;| &nbsp;
        <strong>{{blog.currentUser.counts.followed_by}}</strong> Followers &nbsp;| &nbsp;
        <strong>{{blog.currentUser.counts.follows}}</strong> Followering
      </p>


      <p class="text-4x text-red ib-user-error" ng-if="blog.CurrentInstaUser.isPrivate">Private User Account.</p>

      <p class="text-4x text-red ib-user-error" ng-if="blog.CurrentInstaUser.errorMessage">Sorry,
        {{blog.CurrentInstaUser.errorMessage}}.</p>


      <p class="text-3x">{{blog.currentUser.bio}}</p>

      <p class="text-2x"><a href="{{blog.currentUser.website}}">{{blog.currentUser.website}}</a></p>
    </div>

    <div class="blog-content">

      <div ng-if="blog.timelineView" class="timeline-view">
        <div class="yy-blog-timeline">
          <div data-blog-timeline class="row margin-0 full-width"
               ng-repeat="gallery in blog.currentMedia track by $index"></div>
        </div>
      </div>

      <div ng-if="!blog.timelineView" class="block-view">
        <div class="yy-blog-block">
          <div ng-repeat="gallery in blog.currentMedia track by $index" data-blog-block></div>
        </div>
      </div>

      <div class="row text-center blog-loadmore margin-0"
           ng-if="blog.nextUrl && blog.currentMedia.length<blog.currentUser.counts.media">
        <md-button class="md-flat yy-md-blue yy-btn-lg" ng-click="blog.loadMore()">
          Load More &nbsp; &nbsp;<i class="glyphicon glyphicon-chevron-down text-1x"></i>
        </md-button>
      </div>
      <div class="row text-center blog-loadmore margin-0"
           ng-if="!blog.nextUrl && blog.currentMedia.length>=blog.currentUser.counts.media">
        <p class="text-3x text-blue">E&nbsp;N&nbsp;D</p>
      </div>
    </div>

    <!------------>

  </md-content>

  <footer></footer>

</div>

